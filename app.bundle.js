webpackJsonp([0],{0:function(e,exports,t){t(1),e.exports=t(298)},298:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=t(299),o=n(i),l=t(301),r=n(l);t(371),t(373);var u=t(375),s=t(457),a=t(462);o.default.module("app",[r.default,"ngAnimate","ang-drag-drop",u.commonModule,s.componentsModule]).config(["$locationProvider",function(e){"ngInject";e.html5Mode(!0).hashPrefix("!")}]).component("app",a.appComponent)},375:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.commonModule=void 0;var i=t(299),o=n(i),l=t(376),r=t(449),u=t(453);exports.commonModule=o.default.module("app.common",[l.dbModule,r.sortableListModule,u.itemInputModule]).name},376:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.dbModule=void 0;var i=t(299),o=n(i),l=t(377);exports.dbModule=o.default.module("db",[]).service("dbService",l.dbService).name},377:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.dbService=void 0;var i=t(378),o=n(i),l=t(443),r=n(l),u=t(444),s=n(u),a=t(448),d=n(a);exports.dbService=function(){function e(t){"ngInject";var n=this;(0,r.default)(this,e),this.list=d.default.get("list").then(function(e){return e?n.list=e:(n.list=[{data:"Try editing me and refreshing",id:1337}],d.default.set("list",n.list)),n.list})}return e.$inject=["$timeout"],(0,s.default)(e,[{key:"getAll",value:function(){return o.default.resolve(this.list)}},{key:"add",value:function(e){return this.list.push({data:e,id:Date.now()}),d.default.set("list",this.list)}},{key:"update",value:function(e,t){return this.list[e].data=t,d.default.set("list",this.list)}},{key:"replace",value:function(e){return this.list=e,d.default.set("list",this.list)}},{key:"remove",value:function(e){return this.list.splice(e,1),d.default.set("list",this.list)}},{key:"clear",value:function(){return this.list=[],d.default.clear()}}]),e}()},449:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sortableListModule=void 0;var i=t(299),o=n(i),l=t(450);t(452);exports.sortableListModule=o.default.module("sortable-list",[]).component("sortableList",l.sortableListComponent).name},450:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sortableListComponent=void 0;var i=t(451),o=n(i);exports.sortableListComponent={restrict:"E",bindings:{list:"<",onRemove:"&",onReorder:"&",onEdit:"&"},template:o.default}},451:function(e,exports){e.exports='<ul class="sortable-list" >\r\n  <li class="sortable-item" \r\n      ng-if="$ctrl.list"\r\n      ng-repeat="item in $ctrl.list track by item.id"\r\n      drag="$index"\r\n      ui-draggable="true"\r\n      ui-on-drop="$ctrl.onReorder({source:$data,target:$index})"\r\n      drag-handle-class="sortable-item__handle"\r\n      >\r\n    <span class="sortable-item__handle">⇅</span>\r\n    <input  class="sortable-item__title" \r\n            ng-value="item.data" \r\n            ng-model="editedValue" \r\n            ng-model-options=\'{ debounce: 300 }\' \r\n            ng-change="$ctrl.onEdit({$index,editedValue})">          \r\n    </input>\r\n    <span class="sortable-item__close" ng-click="$ctrl.onRemove({$index})">✖</span>\r\n  </li>\r\n  <!-- Mock list item as loading indicator -->\r\n  <li class="sortable-item loading" ng-if="!$ctrl.list">\r\n    <span class="sortable-item__handle"></span>\r\n    <div class="sortable-item__title">\r\n      <i class="sortable-item__spinner"></i>\r\n    </div>\r\n    <span class="sortable-item__close"></span>\r\n  </li>\r\n</ul>'},452:function(e,exports){},453:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.itemInputModule=void 0;var i=t(299),o=n(i),l=t(454);t(456);exports.itemInputModule=o.default.module("item-input",[]).component("itemInput",l.itemInputComponent).name},454:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.itemInputComponent=void 0;var i=t(455),o=n(i);exports.itemInputComponent={bindings:{onAdd:"&"},template:o.default}},455:function(e,exports){e.exports='<form class="item-input" ng-submit="$ctrl.onAdd({value})">\r\n  <input class="item-input__input" type="text" ng-model="value" placeholder="Write here and press enter">\r\n  <input class="item-input__submit" type="submit" value="✚">\r\n</form>'},456:function(e,exports){},457:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.componentsModule=void 0;var i=t(299),o=n(i),l=t(458);exports.componentsModule=o.default.module("app.components",[l.homeModule]).name},458:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.homeModule=void 0;var i=t(299),o=n(i),l=t(301),r=n(l),u=t(459);t(461);exports.homeModule=o.default.module("home",[r.default]).config(["$stateProvider","$urlRouterProvider",function(e,t){"ngInject";t.otherwise("/"),e.state("home",{url:"/",component:"home",resolve:{listData:["dbService",function(e){return e.getAll()}]}})}]).component("home",u.homeComponent).name},459:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.homeComponent=void 0;var i=t(443),o=n(i),l=t(444),r=n(l),u=t(460),s=n(u);exports.homeComponent={restrict:"E",bindings:{listData:"<"},template:s.default,controller:function(){function e(t){"ngInject";(0,o.default)(this,e),this.db=t}return e.$inject=["dbService"],(0,r.default)(e,[{key:"$onChanges",value:function(e){e.listData&&(this.list=[].concat(e.listData.currentValue))}},{key:"addItem",value:function(e){var t=this;this.db.add(e).then(function(){return t.updateList()})}},{key:"editItem",value:function(e,t){var n=this;this.db.update(e,t).then(function(){return n.updateList()})}},{key:"removeItem",value:function(e){var t=this;this.db.remove(e).then(function(){return t.updateList()})}},{key:"reorderList",value:function(e,t){var n=this;this.list.splice(t,0,this.list.splice(e,1)[0]),this.db.replace(this.list).then(function(){return n.updateList()})}},{key:"clearList",value:function(e){this.list=[],this.db.clear()}},{key:"updateList",value:function(){var e=this;return this.db.getAll().then(function(t){e.list=t})}}]),e}()}},460:function(e,exports){e.exports='<div id="home">\r\n  <h1>Sortable List Coding Challenge</h1>\r\n  <item-input on-add="$ctrl.addItem(value)"></item-input>\r\n  <sortable-list  list="$ctrl.list"\r\n                  on-remove="$ctrl.removeItem($index)"\r\n                  on-edit="$ctrl.editItem($index,editedValue)"\r\n                  on-reorder="$ctrl.reorderList(source,target)"\r\n  ></sortable-list>\r\n  <button ng-click="$ctrl.clearList()">Flush indexedDB</button>\r\n</div>'},461:function(e,exports){},462:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.appComponent=void 0;var i=t(463),o=n(i);t(464);exports.appComponent={template:o.default}},463:function(e,exports){e.exports='<div class="app">\r\n  <div ui-view></div>\r\n</div>'},464:function(e,exports){}});
//# sourceMappingURL=app.bundle.js.map